    --- TRANSAKCIJE --- 

- TRANSAKCIJA JE LOGICKA JEDINICA POSLA PRI RADU SA PODACIMA.
  - NE SME DA NARUSAVA USLOVE INTEGRITETA 

- KOMANDE - DESVA SE KRAJ TRANSAKCIJE, BILO KOJU OD OVE DVE NAREDBE DA POZOVEMO
  - COMMIT    - POTVRDJUJEMO IZMENE U BAZI, I NJIHOV UPIS JE TRAJAN
  - ROLLBACK  - NEUSPESAN KRAJ TRANSAKCIJE, SVE IZMENE SE PONISTE I NISU TRAJNO UPISANE U BAZU 
    - AKO SE DESI NEKA GRESKA - TJ. AKO SE BILO STA NE DESI USPESNO 

- PROGRAM MOZEMO DA IZDELIMO U VISE MANJIH TRANSAKCIJA
  - U DB2 NISU DOZVOLJENE UGNJEZDENE TRANSAKCIJE!       --- ZAPAMTITI !!!! 


- KONFLIKTI:
  1.  PROBLEM IZGUBLJENIH AZURIRANJA
      DESI SE DA SU OBA PROCITALA PODATAK PRE AZURIRANJA,
      POTOM JE TRANSAKCIJA B AZURIRALA NA OSNOVU PODATKA KOJI
      JE PROCITALA PRE AZURIRANJA TRANSAKCIJE A 

  2.  PROBLEM ZAVISNOSTI OD NEPOTVRDJENIH PODATAKA 
      A CITA NEKI SLOG R, B AZURIRA TAJ SLOG R I VRSI ROLLBACK 
      KADA SE DESI DA B IZVRSI ROLLBACK (NESTO SE POGRESILO), 
      DESICE SE TO DA CE A DA NASTAVI DA RADI SA NEPOTVRDJENIM PODACIMA.

      B URADI AZURIRANJE NAD SLOGOM R, POTOM A IZVRSI AZURIRANJE 
      NA OSNOVU INFORMACIJE KOJU JE B POSTAVILA. NAKON TOGA B RADI 
      ROLLBACK. I OPET SE DESAVA DA A RADI SA NEPOTVRDJENIM PODACIMA.

  3.  PROBLEM NEKOZISTENTNE ANALIZE 
      A PRVO PROCITA PODATKE, POTOM B ULECE SA SVOJIM ZADATKOM 
      ODRADI I VRSI COMMIT. POTOM A RADI NAD ISTIM PODACIMA KAO I B 
      I DOLAZI DO NEKOZISTENTNE ANALIZE.

  - VRSIMO SEKVENCIJALNO IZVRSAVANJE, I TIME NE DOZVOLJAVAMO KONKURENTNOST,
    ALI KAKO NAMA TREBA APLIKACIJA DA BUDE U STANJU DA MOZE KONKURENTNO DA
    IZVRSAVA, POTREBNO JE UVESTI ZAKLJUCAVANJE.

- ZAKLJUCAVANJE KORISTIMO KAKO BISMO OBEZBEDILI DA NE DODJE DO 
  NEKIH KONFLIKTA 
  - POSTAVLJANJE KATANCA NA OBJEKAT 
  - KARAKTERISTIKE KATANCA:
    - VRSTA, MOD, REZIM = STA JE DOZVOLJENO VLASNIKU I KOJI NACINI PRISTUPA SU DOZVOLJENI KONKURENTNIM KORISNICIMA
    - OBJEKAT           = STA JE TO STO ZAKLJUCAVAMO? RED, TABELA, ...
    - TRAJANJE          = KOLIKO DUGO SE KATANAC DRZI, ZAVISI OD NIVOA IZOLOVANOSTI 

  - VRSTE KATANACA:
    - DELJIVI (S - SHARED) = KADA ZELIMO NESTO DA PROCITAMO, NISTA NAM NE SMETA DA I NEKO DRUGI CITA TE ISTE PODATKE
    - PRIVATNI/ESKLUZIVNI (X-EXCLUSIVE) = AKO VRSIMO NEKA AZURIRANJA, NE DOZVOLJAVAMO OSTALIMA DA U ISTOM TRENUTKU
      KORISTE TE ISTE PODATKA

  - DVOFAZNI PROTOKOL ZAKLJUCAVANJA (TWO FACE LOCKING = 2FL)
    IMAMO DVE FAZE:
      1.  GROWING PHASE 
          - TRAZE SE RAZNI KATANCI, DOK NE DOJEMO DO TRENUTKA KADA JE 
            SVE ZAKLJUCANO (LOCKED PHASE)
          - NEMA NIJEDNOG OTKLJUCAVANJA; OVDE SE STVARI SAMO ZAKLJUCAVAJU
          - NEMA NIJEDNOG OSLOBADJANJA KATANACA 

      2.  SHRINKING PHASE 
          - KADA POCNEMO DA OTKLJUCAVAMO, NE DESAVA SE NIJEDNO 
            ZAKLJUCAVANJE KATANACA 
          - CIM OSLOBODIMO PRVI KATANAC, NAKON TOGA MOZEMO SAMO 
            DA OSLOBADJAMO KATANCE 

    - AKO SE KORISI STRIKTNO DVOFAZNO ZAKLJUCAVANJE 
      ONDA CE EFEKAT PRIMENE NEKIH TRANSAKCIJA BITI 
      ISTI KAO DA SU SE TE TRANSAKCIJE ODVOJENO SERIJSKI 
      IZVRSAVALE, BEZ KONKURENTNOSTI 

    - X KATANCI SE OSLOBADJAJU TEK NA KRAJU 
      KADA SE POTVRDE SA COMMIT/ROLLBACK 

    - TRANSAKCIJA KADA JE U STANJU CEKANJA 
      ONA JE U TOM STANJU DOK SE NE OSLOBODI 
      TAJ KATANAC KOJI ONA ZELI DA POSTAVI (
      KOJI NJU SPRECAVA DA POSTAVI TAJ KATANAC)
      MORA DA POSTOJI MEHANIZAM KOJI NE DOZVOLJAVA 
      BESKONACNO CEKANJE 
    
    